!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var n=function(e){for(var t=[],i=0;i<e;i++){t.push([]);for(var n=0;n<e;n++){t[i].push(0)}}return t},r={botTab:{CheckSurrounding:function(e,t){var i=0,n=0,r=e-1,d=!0,a=!1,l=function(){switch(a=Math.random()>.5){case!0:i=Math.floor(Math.random()*(11-e))+1,n=Math.floor(10*Math.random())+1;break;case!1:i=Math.floor(10*Math.random())+1,n=Math.floor(Math.random()*(11-e))+1}};l();do{for(var s=!0,h=0;h<e;h++)a?1!=t[i+h][n]&&1!=t[i+h-1][n]&&1!=t[i+h-1][n+1]&&1!=t[i+h][n+1]&&1!=t[i+h+1][n+1]&&1!=t[i+h+1][n]&&1!=t[i+h+1][n-1]&&1!=t[i+h][n-1]&&1!=t[i+h-1][n-1]||(s=!1):1!=t[i][n+h]&&1!=t[i][n+h-1]&&1!=t[i+1][n+h-1]&&1!=t[i+1][n+h]&&1!=t[i+1][n+h+1]&&1!=t[i][n+h+1]&&1!=t[i-1][n+h+1]&&1!=t[i-1][n+h]&&1!=t[i-1][n+h-1]||(s=!1);0==s?l():d=!1}while(d);var o=function(d){if(d<0)return!0;switch(a){case!0:d==e-1&&(t[i+d+1][n]=2,t[i+d+1][n+1]=2,t[i+d+1][n-1]=2),0==d&&(t[i+d-1][n]=2,t[i+d-1][n+1]=2,t[i+d-1][n-1]=2),t[i+d][n]=1,t[i+d][n+1]=2,t[i+d][n-1]=2;break;case!1:d==e-1&&(t[i][n+d+1]=2,t[i-1][n+d+1]=2,t[i+1][n+d+1]=2),0==d&&(t[i][n+d-1]=2,t[i-1][n+d-1]=2,t[i+1][n+d-1]=2),t[i][n+d]=1,t[i-1][n+d]=2,t[i+1][n+d]=2}return o(r-=1)};return o(r),t},WriteOnes:function(){var e=n(12);return e=this.CheckSurrounding(4,e),e=this.CheckSurrounding(3,e),e=this.CheckSurrounding(3,e),e=this.CheckSurrounding(2,e),e=this.CheckSurrounding(2,e),e=this.CheckSurrounding(2,e),e=this.CheckSurrounding(1,e),e=this.CheckSurrounding(1,e),e=this.CheckSurrounding(1,e),e=this.CheckSurrounding(1,e)}}.WriteOnes(),shipTab:[4,3,3,2,2,2,1,1,1,1],pickedShip:document.createElement("div"),ShipCreate:function(){for(var e=[],t=function(t){var n=document.createElement("div"),r=i;n.className="sPlayerLeft",n.setAttribute("picked","false");for(var d=0;d<i.shipTab[t];d++){var a=document.createElement("div");a.addEventListener("click",(function(){r.ShipClick(n)})),a.addEventListener("mouseenter",(function(){r.ShipGlow(!0,n)})),a.addEventListener("mouseleave",(function(){r.ShipGlow(!1,n)})),a.className="dPlayerLeft",n.appendChild(a)}if(0==t){for(var l=0;l<n.children.length;l++)n.children[l].setAttribute("style","background-color:blue");n.setAttribute("picked","true"),i.pickedShip=n}e.push(n)},i=this,n=0;n<this.shipTab.length;n++)t(n);for(n=0;n<e.length;n++)document.getElementsByClassName("bPlayerLeft")[0].appendChild(e[n])},ShipGlow:function(e,t){if("false"==t.getAttribute("picked"))if(e)for(var i=0;i<t.children.length;i++)t.children[i].setAttribute("style","background-color:red");else for(i=0;i<t.children.length;i++)t.children[i].setAttribute("style","background-color:white");return t},ShipClick:function(e){for(var t=0;t<e.children.length;t++)e.children[t].setAttribute("style","background-color:blue");e.setAttribute("picked","true"),this.pickedShip.setAttribute("picked","false");for(t=0;t<this.pickedShip.children.length;t++)this.pickedShip.children[t].setAttribute("style","background-color:white");return this.pickedShip=e,e},ShipDelete:function(e){this.shipTab.splice(this.shipTab.indexOf(e.children.length),1),this.pickedShip=document.createElement("div"),document.body.getElementsByClassName("bPlayerLeft")[0].removeChild(e),0==this.shipTab.length&&document.body.appendChild(u.button.AppendButton())}},d={mainTable:n(12),shipDirection:!0,pickedShip:r.pickedShip,PlayerBoard:function(){var e=document.createElement("div");e.className="bPlayerRight";for(var t=this,i=1;i<this.mainTable.length-1;i++)for(var n=function(n){var r=document.createElement("div");r.id=n+"_"+i,r.classList.add("dPlayerRight"),r.addEventListener("mouseenter",(function(){t.BoardHover(!0,r,!1)})),r.addEventListener("mouseleave",(function(){t.BoardHover(!1,r,!1)})),r.addEventListener("contextmenu",(function(e){e.preventDefault(),t.RightClick(r,d.shipDirection)})),r.addEventListener("click",(function(e){t.LeftClick(r)})),1==n&&1==i?r.setAttribute("style","border-left:1px solid black;border-top:1px solid black"):1==n?r.setAttribute("style","border-left:1px solid black"):1==i&&r.setAttribute("style","border-top:1px solid black"),e.appendChild(r)},r=1;r<this.mainTable.length-1;r++)n(r);return e},RightClick:function(e,t){var i=e;this.shipDirection=!this.shipDirection,t=!t;for(var n=0;n<document.getElementsByClassName("dPlayerRight").length;n++)document.getElementsByClassName("dPlayerRight")[n].classList.remove("green"),document.getElementsByClassName("dPlayerRight")[n].classList.remove("red");var r=Number(i.id.split("_")[0]),d=Number(i.id.split("_")[1]),a=r,l=d;if(d-this.pickedShip.children.length<0&&0==t)for(n=0;n<this.pickedShip.children.length;n++){a+this.pickedShip.children.length>11&&(l=d);var s=a+"_"+(l+n),h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}if(r+this.pickedShip.children.length>11&&d+this.pickedShip.children.length<=11)if(t)for(n=0;n<this.pickedShip.children.length;n++){a+this.pickedShip.children.length>11&&(a=11-this.pickedShip.children.length),console.log(a,l);s=a+n+"_"+l,h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}else if(0==t)for(n=0;n<this.pickedShip.children.length;n++){a+this.pickedShip.children.length>11&&(l=d),console.log(a,l);s=a+"_"+(l+n),h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}if(r+this.pickedShip.children.length>11&&d+this.pickedShip.children.length>11)if(t)for(n=0;n<this.pickedShip.children.length;n++){a+this.pickedShip.children.length>11&&(a=11-this.pickedShip.children.length),console.log(a,l);s=a+n+"_"+l,h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}else if(0==t)for(n=0;n<this.pickedShip.children.length;n++){a+this.pickedShip.children.length>11&&(l=11-this.pickedShip.children.length),console.log(a,l);s=a+"_"+(l+n),h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}if(r+this.pickedShip.children.length<=11&&d+this.pickedShip.children.length>11)if(t)for(n=0;n<this.pickedShip.children.length;n++){a+this.pickedShip.children.length>11&&(a=11-this.pickedShip.children.length),console.log(a,l);s=a+n+"_"+l,h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}else if(0==t)for(n=0;n<this.pickedShip.children.length;n++){l+this.pickedShip.children.length>11&&(l=11-this.pickedShip.children.length),console.log(a,l);s=a+"_"+(l+n),h=document.getElementById(s);this.CanPutShip(a,l)?h.classList.add("green"):h.classList.add("red"),a=r,l=d}r+this.pickedShip.children.length<=11&&d+this.pickedShip.children.length<=11&&this.BoardHover(!0,i,!1)},LeftClick:function(e){0==r.shipTab.length&&alert("Strzelaj komputerowi nie sobie baranie xd");var t=Number(e.id.split("_")[1]),i=Number(e.id.split("_")[0]);if(this.CanPutShip(i,t)){switch(this.shipDirection){case!0:for(var n=0;n<this.pickedShip.children.length;n++)i+this.pickedShip.children.length>11&&(i=11-r.pickedShip.children.length),this.mainTable[t][i+n]=1;break;case!1:for(n=0;n<this.pickedShip.children.length;n++)t+this.pickedShip.children.length>11&&(t=11-r.pickedShip.children.length),this.mainTable[t+n][i]=1}0!=r.shipTab.length&&""!=r.pickedShip.className&&r.ShipDelete(r.pickedShip),this.PaintBlue()}},PaintBlue:function(){for(var e=1;e<this.mainTable.length-1;e++)for(var t=1;t<this.mainTable.length-1;t++)1==this.mainTable[e][t]&&document.getElementById(t+"_"+e).classList.add("blue")},BoardHover:function(e,t,i,n,d){var a=Number(t.id.split("_")[0]),l=Number(t.id.split("_")[1]);switch(i&&(a=n,l=d),this.pickedShip=r.pickedShip,this.shipDirection){case!0:for(var s=0;s<this.pickedShip.children.length;s++){a+this.pickedShip.children.length>11&&0==i&&(a=11-this.pickedShip.children.length);var h=a+s+"_"+l,o=document.getElementById(h);e?this.CanPutShip(a,l)?o.classList.add("green"):o.classList.add("red"):this.CanPutShip(a,l)?o.classList.remove("green"):o.classList.remove("red")}break;case!1:for(s=0;s<this.pickedShip.children.length;s++){l+this.pickedShip.children.length>11&&0==i&&(l=11-this.pickedShip.children.length);h=a+"_"+(l+s),o=document.getElementById(h);e?this.CanPutShip(a,l)?o.classList.add("green"):o.classList.add("red"):this.CanPutShip(a,l)?o.classList.remove("green"):o.classList.remove("red")}}},CanPutShip:function(e,t){for(var i=e,n=t,r=!0,d=0;d<this.pickedShip.children.length;d++)this.shipDirection?1!=this.mainTable[n][i+d]&&1!=this.mainTable[n][i+d-1]&&1!=this.mainTable[n+1][i+d-1]&&1!=this.mainTable[n+1][i+d]&&1!=this.mainTable[n+1][i+d+1]&&1!=this.mainTable[n][i+d+1]&&1!=this.mainTable[n-1][i+d+1]&&1!=this.mainTable[n-1][i+d]&&1!=this.mainTable[n-1][i+d-1]||(r=!1):1!=this.mainTable[n+d][i]&&1!=this.mainTable[n+d-1][i]&&1!=this.mainTable[n+d-1][i+1]&&1!=this.mainTable[n+d][i+1]&&1!=this.mainTable[n+d+1][i+1]&&1!=this.mainTable[n+d+1][i]&&1!=this.mainTable[n+d+1][i-1]&&1!=this.mainTable[n+d][i-1]&&1!=this.mainTable[n+d-1][i-1]||(r=!1);return 0!=r}},a=d;function l(e,t,i){var n=i.value;i.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=n.apply(this,e);console.log(i)}}var s=function(e,t,i,n){var r,d=arguments.length,a=d<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(d<3?r(a):d>3?r(t,i,a):r(t,i))||a);return d>3&&a&&Object.defineProperty(t,i,a),a},h=function(){function e(){}return e.prototype.showMessage=function(e){var t=Math.floor(4*Math.random());switch(e){case!0:return["Nice !","You did it !","WOW !!","Good shot !"][t];case!1:return["Darn it !","Maybe next time","Unlucky","Damn it !"][t]}},s([l],e.prototype,"showMessage",null),e}(),o=function(){function e(e){this.botBoard=r.botTab,this.playerBoard=a.mainTable,this.playerBoardDiv=a.PlayerBoard(),this._this=this,this.startGame=!1,e&&(c.startGame=!0)}return e.prototype.CreatePage=function(){var e=document.createElement("div");e.id="bBot";for(var t=1;t<this.botBoard.length-1;t++)for(var i=function(i){var n=document.createElement("div");n.setAttribute("data-used","false"),n.id=t+"_"+i+"_",n.addEventListener("click",(function(){"false"==n.dataset.used&&c.OneShot(this.id,!0)})),n.className=1==i&&1==t?"whiteField-1":1!=i&&1==t?"whiteField-2":1==i&&1!=t?"whiteField-3":"whiteField-4",e.appendChild(n)},n=1;n<this.botBoard[t].length-1;n++)i(n);r.ShipCreate(),document.body.appendChild(e),document.body.appendChild(this.playerBoardDiv)},e}(),c={startGame:!1,currentPlayer:!0,_buildBoard:new o,button:{AppendButton:function(){var e=document.createElement("button");return e.className="button",e.innerHTML="Start game",e.addEventListener("click",(function(){c.button.StartGame()})),e},DeleteButton:function(e){document.body.removeChild(e)},StartGame:function(){c.button.DeleteButton(document.getElementsByTagName("button")[0]),c.startGame=!0}},CheckIfWin:function(e,t){for(var i=!0,n=!0,r=0;r<t.length;r++)for(var d=0;d<t[r].length;d++)1==t[r][d]&&(n=!1),1==e[r][d]&&(i=!1);i?setTimeout((function(){document.getElementById("winBox").innerHTML="Bot Won<br>The Game",document.getElementById("winBox").style.display="block",document.getElementsByClassName("hidder")[0].setAttribute("style","display:block")}),1500):n&&setTimeout((function(){document.getElementById("winBox").innerHTML="Player Won<br>The Game",document.getElementById("winBox").style.display="block",document.getElementsByClassName("hidder")[0].setAttribute("style","display:block")}),1500)},OneShot:function(e,t){if(0==r.shipTab.length&&c.startGame){null==this._buildBoard.botBoard&&(this._buildBoard.botBoard=[[1]]);var i=Number(e.split("_")[0]),n=Number(e.split("_")[1]);if(c.currentPlayer=t,c.currentPlayer){var d=new h;1==this._buildBoard.botBoard[i][n]?(document.getElementById(i+"_"+n+"_").classList.add("g"),this._buildBoard.botBoard[i][n]=3,d.showMessage(!0)):(c._buildBoard.botBoard[i][n]=3,document.getElementById(i+"_"+n+"_").style.backgroundColor="rgba(192,192,192,0.3)",d.showMessage(!1)),document.getElementById(i+"_"+n+"_").dataset.used="true",document.getElementsByClassName("hidder")[0].setAttribute("style","display:block"),document.getElementById("ann").innerText="Bot",setTimeout((function(){c.OneShot(e,!1)}),1e3)}else{var a=void 0,l=void 0,s=void 0;do{l=Math.floor(10*Math.random())+1,s=Math.floor(10*Math.random())+1,a="true"!=document.getElementById(s+"_"+l).dataset.used}while(0==a);1==c._buildBoard.playerBoard[l][s]?(document.getElementById(s+"_"+l).classList.add("g"),c._buildBoard.playerBoard[l][s]=3):(c._buildBoard.playerBoard[l][s]=3,document.getElementById(s+"_"+l).style.backgroundColor="rgba(192,192,192,0.3)"),document.getElementsByClassName("hidder")[0].setAttribute("style","display:none"),document.getElementById("ann").innerText="Player",document.getElementById(s+"_"+l).dataset.used="true"}this.CheckIfWin(c._buildBoard.playerBoard,c._buildBoard.botBoard)}}},u=t.default=c;document.addEventListener("DOMContentLoaded",(function(e){(new o).CreatePage()}))}]);